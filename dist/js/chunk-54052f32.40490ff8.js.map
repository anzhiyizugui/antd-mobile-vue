{"version":3,"sources":["webpack:///./src/packages/time-directive/demo/README.md","webpack:///./src/generated/time-directive/index.vue?3f1c","webpack:///./src/packages/time-directive/src/index.ts","webpack:///./src/packages/time-directive/index.ts","webpack:///./src/generated/time-directive/index.vue?0bef","webpack:///./src/generated/time-directive/index.vue?876c","webpack:///./src/generated/time-directive/index.vue?cd26","webpack:///./src/generated/time-directive/index.vue"],"names":["module","exports","_node_modules_vue_cli_service_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_07c9f60a_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_vue_cli_service_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_07c9f60a_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","createContent","el","binding","vnode","date","bindValue","value","text","format","reg1","test","moment","toDate","setHours","getHours","Date","data","attrs","modifiers","pretty","now","nowTime","getTime","difference","concat","Math","floor","getFullYear","getMonth","getDay","innerHTML","src","bind","update","__webpack_exports__","install","Vue","directive","render","_vm","this","_h","$createElement","_c","_self","id","source","title","_m","staticRenderFns","staticClass","_v","external_Vue_default","a","use","time_directive","time_directivevue_type_script_lang_ts_ComponentDemo","_Vue","ComponentDemo","_this","Object","classCallCheck","README_default","inherits","createClass","key","document","getElementById","tslib_es6","vue_class_component_common_default","name","time_directivevue_type_script_lang_ts_","generated_time_directivevue_type_script_lang_ts_","component","componentNormalizer"],"mappings":"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","file":"js/chunk-54052f32.40490ff8.js","sourcesContent":["module.exports = \"<h1 id=\\\"time指令\\\">time指令</h1>\\n<h2 id=\\\"何时使用\\\">何时使用</h2>\\n<p>当需要显示一个时间对象时</p>\\n\";","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=07c9f60a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=07c9f60a&lang=less&scoped=true&\"","/**\r\n * Created by wuhao on 2016/11/22.\r\n */\r\nimport {VNode, VNodeDirective} from 'vue';\r\n\r\nconst createContent = (el: HTMLElement, binding: VNodeDirective, vnode: VNode) => {\r\n  const bindValue = binding.value;\r\n  let text = '';\r\n  const format = 'YYYY-MM-DD HH:mm:ss';\r\n  let date: Date;\r\n  if (typeof bindValue === 'string') {\r\n    const reg1 = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z/;\r\n    if (reg1.test(bindValue)) {\r\n      date = moment(bindValue, 'YYYY-MM-DDTHH:mm:ss.sZ').toDate();\r\n      date.setHours(date.getHours() + 8);\r\n    } else {\r\n      text = bindValue;\r\n    }\r\n  } else {\r\n    const value = binding.value as number;\r\n    date = new Date(value);\r\n    if (!value) {\r\n      text = '';\r\n    } else {\r\n      text = moment(value).format(format);\r\n      if (vnode.data!.attrs) {\r\n        if (vnode.data!.attrs!.format) {\r\n          text = moment(value).format(vnode.data!.attrs!.format);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // @ts-ignore\r\n  if (binding.modifiers.pretty && date) {\r\n    const now = new Date();\r\n    const nowTime = now.getTime();\r\n    const difference: number = nowTime - date.getTime();\r\n    if (difference > 0) {\r\n      if (difference < 1000) {\r\n        text = '刚刚';\r\n      } else if (difference < 60 * 1000) {\r\n        text = `${Math.floor(difference / 1000)}秒前`;\r\n      } else if (difference < 60 * 1000 * 60) {\r\n        text = `${Math.floor(difference / 1000 / 60)}分钟前`;\r\n      } else if (now.getFullYear() === date.getFullYear()) {\r\n        if (now.getMonth() === date.getMonth()\r\n            && now.getDay() === date.getDay()) {\r\n          text = moment(date).format('HH:mm:ss');\r\n        } else {\r\n          text = moment(date).format('MM-DD HH:mm:ss');\r\n        }\r\n      }\r\n    } else if (now.getFullYear() === date.getFullYear()) {\r\n      if (now.getMonth() === date.getMonth()\r\n          && now.getDay() === date.getDay()) {\r\n        text = moment(date).format('HH:mm:ss');\r\n      } else {\r\n        text = moment(date).format('MM-DD HH:mm:ss');\r\n      }\r\n    }\r\n  }\r\n  el.innerHTML = text;\r\n};\r\nexport default {\r\n  bind(el: HTMLElement, binding: VNodeDirective, vnode: VNode) {\r\n    createContent(el, binding, vnode);\r\n  },\r\n  update(el: HTMLElement, binding: VNodeDirective, vnode: VNode) {\r\n    createContent(el, binding, vnode);\r\n  }\r\n};\r\n","import time from './src';\r\n\r\nexport default {\r\n  install(Vue) {\r\n    Vue.directive('time', time);\r\n  }\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"basic\"}},[_c('markdown',{attrs:{\"source\":_vm.title}})],1),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"markdown-body m-b\",attrs:{\"id\":\"demo\"}},[_c('span'),_c('h2',[_vm._v(\"示例代码\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport Component from 'vue-class-component';\nimport TimeDirective from '@/packages/time-directive';\nimport title from '../../packages/time-directive/demo/README.md';\n\nVue.use(TimeDirective);\n@Component({\n  name: 'ComponentDemo'\n})\nexport default class ComponentDemo extends Vue {\n  public title = title;\n\n  public getContainer() {\n    return document.getElementById('app-content');\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=07c9f60a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=07c9f60a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07c9f60a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}