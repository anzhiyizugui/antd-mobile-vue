(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2160b34f"],{"8cd7":function(e,t,n){},cd6e:function(e,t,n){"use strict";n("c5f6");var a=n("5176"),o=n.n(a),i=n("2638"),r=n.n(i),c=(n("7f7f"),n("a481"),n("bd86")),l=n("d225"),s=n("b0b4"),u=n("308d"),d=n("6bb5"),b=n("4e2b"),p=n("9ab4"),h=n("4d26"),f=n.n(h),y=n("65d9"),v=n.n(y),m=n("60a3"),k=n("1a67"),g=n("6cf1"),O=n("d5e7"),j=n("8bbf"),C=n.n(j);function x(e,t){if(e.classList)return e.classList.contains(t);var n=e.className;return" ".concat(n," ").indexOf(" ".concat(t," "))>-1}function K(e,t){e.classList?e.classList.add(t):x(e,t)||(e.className="".concat(e.className," ").concat(t))}function L(e,t){if(e.classList)e.classList.remove(t);else if(x(e,t)){var n=e.className;e.className=" ".concat(n," ").replace(" ".concat(t," "),"")}}var I=n("d408"),$=function(e){function t(){return Object(l["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),Object(s["a"])(t,[{key:"render",value:function(){var e=this,t=arguments[0],n=this,a=n.prefixCls,o=(n.disabled,n.label),i=n.iconOnly,c=p["c"](n,["prefixCls","disabled","label","iconOnly"]),l=(this.$slots.default,this.type);var s=f()("".concat(a,"-item")),u=O["a"];return t(u,r()([{class:l},{props:{activeClassName:"".concat(a,"-item-active")}}]),[t("td",r()([{ref:"td",on:{click:function(t){e.$emit("click",t,e.value)}},class:s},c]),[this.$slots.default,i&&t("i",{class:"sr-only"},[o])])])}},{key:"tdRef",get:function(){return this.$refs["td"]}}]),t}(C.a);p["b"]([Object(m["d"])({type:[String,Number]})],$.prototype,"value",void 0),p["b"]([Object(m["d"])(String)],$.prototype,"label",void 0),p["b"]([Object(m["d"])({type:String})],$.prototype,"type",void 0),p["b"]([Object(m["d"])({default:"am-number-keyboard"})],$.prototype,"prefixCls",void 0),p["b"]([Object(m["d"])()],$.prototype,"iconOnly",void 0),p["b"]([Object(m["d"])({type:Boolean,default:!1})],$.prototype,"disabled",void 0),$=p["b"]([v()({name:"KeyboardItem"})],$);var w=function(e){function t(){return Object(l["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),Object(s["a"])(t,[{key:"onKeyboardClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.stopImmediatePropagation(),"confirm"===t&&this.confirmDisabled)return null;this.linkedInput&&this.linkedInput.onKeyboardClick(t)}},{key:"renderKeyboardItem",value:function(e,t){var n=this.$createElement,a=$;return n(a,r()([{},{props:{value:e}},{on:{click:this.onKeyboardClick},key:"item-".concat(e,"-").concat(t)}]),[e])}},{key:"render",value:function(){var e=this,t=arguments[0],n=this.prefixCls,a=this.confirmLabel,i=this.backspaceLabel,c=this.cancelKeyboardLabel,l=this.wrapProps,s=this.header,u=f()("".concat(n,"-wrapper"),"".concat(n,"-wrapper-hide")),d=$;return t("div",r()([{class:u,ref:"antmKeyboard"},l]),[s,t("table",[t("tbody",[t("tr",[["1","2","3"].map(function(t,n){return e.renderKeyboardItem(t,n)}),t(d,r()([{},{props:o()({},this.getAriaAttr(i),{type:"keyboard-delete",rowSpan:2})},{},{on:{click:function(t){return e.onKeyboardClick(t,"delete")}}}]))]),t("tr",[["4","5","6"].map(function(t,n){return e.renderKeyboardItem(t,n)})]),t("tr",[["7","8","9"].map(function(t,n){return e.renderKeyboardItem(t,n)}),t(d,r()([{},{props:{type:"keyboard-confirm",rowSpan:2}},{},{on:{click:function(t){return e.onKeyboardClick(t,"confirm")}}},{attrs:{tdRef:"td"}}]),[a])]),t("tr",[[".","0"].map(function(t,n){return e.renderKeyboardItem(t,n)}),t(d,r()([{},{props:o()({},this.getAriaAttr(c),{type:"keyboard-hide"})},{},{on:{click:function(t){return e.onKeyboardClick(t,"hide")}}}]))])])])])}},{key:"getAriaAttr",value:function(e){return I["a"]?{label:e,iconOnly:!0}:{role:"button","aria-label":e}}},{key:"antmKeyboard",get:function(){return this.$refs.antmKeyboard}}]),t}(C.a);p["b"]([Object(m["d"])()],w.prototype,"prefixCls",void 0),p["b"]([Object(m["d"])()],w.prototype,"confirmLabel",void 0),p["b"]([Object(m["d"])()],w.prototype,"backspaceLabel",void 0),p["b"]([Object(m["d"])()],w.prototype,"cancelKeyboardLabel",void 0),p["b"]([Object(m["d"])()],w.prototype,"wrapProps",void 0),p["b"]([Object(m["d"])()],w.prototype,"header",void 0),w=p["b"]([v()({name:"CustomKeyboard"})],w);var B=w,P=function(e){function t(){return Object(l["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),Object(s["a"])(t,[{key:"created",value:function(){this.container=this.getContainer()}},{key:"mounted",value:function(){this.container.appendChild(this.$el)}},{key:"render",value:function(){return this.$slots.default}}]),t}(C.a);p["b"]([Object(m["d"])({required:!0})],P.prototype,"getContainer",void 0),P=p["b"]([v()({name:"Portal"})],P);var A=P,R=[],S=null,T=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.focus=!1,e}return Object(b["a"])(t,e),Object(s["a"])(t,[{key:"created",value:function(){this.currentValue=this.value||""}},{key:"onChange",value:function(e){"value"in this||(this.currentValue=e.target.value),this.$emit("change",e)}},{key:"onConfirm",value:function(e){this.$emit("confirm",e)}},{key:"valueChanged",value:function(e){this.currentValue=e}},{key:"focusChanged",value:function(e){e&&this.onInputFocus()}},{key:"addBlurListener",value:function(){document.addEventListener("click",this.doBlur,!1)}},{key:"removeBlurListener",value:function(){document.removeEventListener("click",this.doBlur,!1)}},{key:"beforeDestroy",value:function(){this.focus||this.$emit("blur",this.value),this.unLinkInput()}},{key:"saveRef",value:function(e){S=e,R.push({el:e,container:this.container})}},{key:"getComponent",value:function(){var e=this.$createElement,t=this.confirmLabel,n=this.backspaceLabel,a=this.cancelKeyboardLabel,o=this.keyboardPrefixCls,i=this.moneyKeyboardWrapProps,r=this.moneyKeyboardHeader;return e(B,{ref:"keyboard",on:{click:this.onKeyboardClick.bind(this)},attrs:{prefixCls:o,confirmLabel:t,backspaceLabel:n,cancelKeyboardLabel:a,wrapProps:i,header:r}})}},{key:"getContainer",value:function(){var e=this.keyboardPrefixCls;if(!this.container){var t=document.createElement("div");t.setAttribute("id","".concat(e,"-container-").concat((new Date).getTime())),document.body.appendChild(t),this.container=t}return this.container}},{key:"doBlur",value:function(e){e.target!==this.inputRef&&this.onInputBlur(this.value)}},{key:"removeCurrentExtraKeyboard",value:function(){R=R.filter(function(e){var t=e.el,n=e.container;return t&&n&&t!==S&&n.parentNode.removeChild(n),t===S})}},{key:"mounted",value:function(){this.saveRef(this.$refs.keyboard)}},{key:"unLinkInput",value:function(){S&&S.antmKeyboard&&S.linkedInput&&S.linkedInput===this&&(S.linkedInput=null,K(S.antmKeyboard,"".concat(this.keyboardPrefixCls,"-wrapper-hide"))),this.removeBlurListener(),this.removeCurrentExtraKeyboard()}},{key:"onInputBlur",value:function(e){var t=this;this.focus&&(this.focus=!1,this.$emit("blur",e),setTimeout(function(){t.unLinkInput()},50))}},{key:"onInputFocus",value:function(e){this.$emit("focus",this.value),this.focus=!0,S&&(S.linkedInput=this,S.antmKeyboard&&L(S.antmKeyboard,"".concat(this.keyboardPrefixCls,"-wrapper-hide")),S.confirmDisabled=""===this.value,S.confirmKeyboardItem&&(""===this.value?K(S.confirmKeyboardItem,"".concat(this.keyboardPrefixCls,"-item-disabled")):L(S.confirmKeyboardItem,"".concat(this.keyboardPrefixCls,"-item-disabled"))))}},{key:"onKeyboardClick",value:function(e){var t,n=this.maxLength,a=this.value,o=this.onChange;"delete"===e?(t=a.substring(0,a.length-1),o({target:{value:t}})):"confirm"===e?(t=a,o({target:{value:t}}),this.onInputBlur(a),this.onConfirm(a)):"hide"===e?(t=a,this.onInputBlur(t)):void 0!==n&&+n>=0&&(a+e).length>n?(t=(a+e).substr(0,n),o({target:{value:t}})):(t=a+e,o({target:{value:t}})),S&&(S.confirmDisabled=""===t,S.confirmKeyboardItem&&(""===t?K(S.confirmKeyboardItem,"".concat(this.keyboardPrefixCls,"-item-disabled")):L(S.confirmKeyboardItem,"".concat(this.keyboardPrefixCls,"-item-disabled"))))}},{key:"onFakeInputClick",value:function(e){this.focusFunc(e)}},{key:"focusFunc",value:function(e){var t=this;this.removeBlurListener();var n=this.focus;n||this.onInputFocus(e),setTimeout(function(){t.addBlurListener()},50)}},{key:"renderPortal",value:function(){var e=this,t=this.$createElement;return t(A,r()([{},{props:{getContainer:function(){return e.getContainer()}}}]),[this.getComponent()])}},{key:"render",value:function(){var e=arguments[0],t=this.placeholder,n=this.disabled,a=this.editable,o=this.moneyKeyboardAlign,i=this.focus,r=this.value,c=n||!a,l=f()("fake-input",{focus:i,"fake-input-disabled":n}),s=f()("fake-input-container",{"fake-input-container-left":"left"===o});return e("div",{class:s},[""===r&&e("div",{class:"fake-input-placeholder"},[t]),e("div",{attrs:{role:"textbox","aria-label":r||t},class:l,ref:"input",on:{click:c?function(){}:this.onFakeInputClick}},[r]),this.renderPortal()])}}]),t}(C.a);p["b"]([Object(m["d"])({default:""})],T.prototype,"placeholder",void 0),p["b"]([Object(m["d"])({type:Boolean,default:!1})],T.prototype,"disabled",void 0),p["b"]([Object(m["d"])({type:Boolean,default:!0})],T.prototype,"editable",void 0),p["b"]([Object(m["d"])()],T.prototype,"moneyKeyboardAlign",void 0),p["b"]([Object(m["d"])()],T.prototype,"moneyKeyboardWrapProps",void 0),p["b"]([Object(m["d"])()],T.prototype,"moneyKeyboardHeader",void 0),p["b"]([Object(m["d"])({type:[String,Number]})],T.prototype,"value",void 0),p["b"]([Object(m["d"])({default:"am-input"})],T.prototype,"prefixCls",void 0),p["b"]([Object(m["d"])({default:"am-number-keyboard"})],T.prototype,"keyboardPrefixCls",void 0),p["b"]([Object(m["d"])()],T.prototype,"confirmLabel",void 0),p["b"]([Object(m["d"])()],T.prototype,"backspaceLabel",void 0),p["b"]([Object(m["d"])()],T.prototype,"cancelKeyboardLabel",void 0),p["b"]([Object(m["d"])()],T.prototype,"maxLength",void 0),p["b"]([Object(m["d"])()],T.prototype,"type",void 0),p["b"]([Object(m["g"])("value")],T.prototype,"valueChanged",null),p["b"]([Object(m["g"])("focus")],T.prototype,"focusChanged",null),T=p["b"]([v()({name:""})],T);var F=T,N=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.currentValue=e.value||"",e}return Object(b["a"])(t,e),Object(s["a"])(t,[{key:"valueChanged",value:function(e){this.currentValue=e}},{key:"onInputBlur",value:function(e){var t=e.target.value;this.$emit("blur",t)}},{key:"onInputFocus",value:function(e){this.$emit("focus")}},{key:"focus",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"render",value:function(){var e=this,t=arguments[0],n=this.currentValue+"",a="number"===this.type?"text":this.type;return t("input",r()([{domProps:{value:n},ref:"input",attrs:{type:a,disabled:this.disabled,readonly:this.readonly,placeholder:this.placeholder},on:{blur:function(t){e.onInputBlur(t)}},style:{textAlign:this.textAlign}},this.$props,{},this.$attrs,{on:{input:function(t){e.$emit("change",t)}}}]))}},{key:"inputRef",get:function(){return this.$refs["input"]}}]),t}(C.a);p["b"]([Object(m["d"])({type:[String,Number]})],N.prototype,"value",void 0),p["b"]([Object(m["d"])(Boolean)],N.prototype,"disabled",void 0),p["b"]([Object(m["d"])(String)],N.prototype,"placeholder",void 0),p["b"]([Object(m["d"])(Boolean)],N.prototype,"readonly",void 0),p["b"]([Object(m["d"])({type:String})],N.prototype,"type",void 0),p["b"]([Object(m["d"])({type:String,default:"left"})],N.prototype,"textAlign",void 0),p["b"]([Object(m["g"])("value")],N.prototype,"valueChanged",null),N=p["b"]([v()({name:"Input"})],N);var D=N;function E(){}function V(e){return"undefined"===typeof e||null===e?"":e+""}var H=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.state={placeholder:e.placeholder||""},e}return Object(b["a"])(t,e),Object(s["a"])(t,[{key:"renderLabel",value:function(){var e,t=this.$createElement,n=this.prefixCls,a=this.labelNumber,o=f()("".concat(n,"-label"),(e={},Object(c["a"])(e,"".concat(n,"-label-2"),2===a),Object(c["a"])(e,"".concat(n,"-label-3"),3===a),Object(c["a"])(e,"".concat(n,"-label-4"),4===a),Object(c["a"])(e,"".concat(n,"-label-5"),5===a),Object(c["a"])(e,"".concat(n,"-label-6"),6===a),Object(c["a"])(e,"".concat(n,"-label-7"),7===a),e));return this.$slots.default?t("div",{class:o},[this.$slots.default]):this.title?t("div",{class:o},[this.title]):null}},{key:"placeholderChanged",value:function(e){this.state.placeholder=e}},{key:"created",value:function(){var e=this;this.currentValue=V((this.value||"")+""),void 0===this.value&&this.$watch(function(){return e.value},function(t,n){void 0===n&&e.$forceUpdate()})}},{key:"beforeDestroy",value:function(){this.debounceTimeout&&(window.clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"onInputChange",value:function(e){var t=this,n=e.target,a=n.value,o=n.selectionEnd,i=this.currentValue,r=void 0===i?"":i,c=this.type,l=a;switch(c){case"bankCard":l=a.replace(/\D/g,"").replace(/(....)(?=.)/g,"$1 ");break;case"phone":l=a.replace(/\D/g,"").substring(0,11);var s=l.length;s>3&&s<8?l="".concat(l.substr(0,3)," ").concat(l.substr(3)):s>=8&&(l="".concat(l.substr(0,3)," ").concat(l.substr(3,4)," ").concat(l.substr(7)));break;case"number":l=a.replace(/\D/g,"");break;case"digit":l=a.replace(/[^0-9.]/g,"");break;case"text":case"password":default:break}this.maxLength&&l.length>this.maxLength&&(l=l.substring(0,this.maxLength)),this.handleOnChange(l,l!==a,function(){switch(c){case"bankCard":case"phone":case"number":try{n.selectionStart=n.selectionEnd=t.calcPos(o||0,r,a,l,[" "],/\D/g)}catch(e){console.warn("Set selection error:",e)}break;default:break}}),this.onFieldChange()}},{key:"handleOnChange",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;this.currentValue=e,this.$emit("input",e),this.$emit("change",e),t(),this.inputRef.$forceUpdate&&this.inputRef.$forceUpdate(),this.$forceUpdate()}},{key:"onInputFocus",value:function(e){this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null),this.$el.focus(),this.$emit("focus",e)}},{key:"onInputBlur",value:function(e){var t=this;this.inputRef&&(this.debounceTimeout=window.setTimeout(function(){document.activeElement!==(t.inputRef&&t.inputRef.inputRef)&&t.$el.blur()},200)),setTimeout(function(){document.body&&(document.body.scrollTop=document.body.scrollTop)},100),this.onFieldBlur(),this.$emit("blur",e)}},{key:"clearInput",value:function(){this.handleOnChange(""),this.focus()}},{key:"focus",value:function(){this.inputRef&&("function"===typeof this.inputRef.focus?this.inputRef.focus():this.inputRef.focus=!0)}},{key:"calcPos",value:function(e,t,n,a,o,i){var r=n.length-t.length,c=r>0,l=e;if(c){var s=n.substr(l-r,r),u=s.replace(i,"").length;l-=r-u;var d=0;while(u>0)-1===o.indexOf(a.charAt(l-u+d))?u--:d++;l+=d}return l}},{key:"render",value:function(){var e,t,n=this,a=arguments[0],i=this.prefixCls,l=this.prefixListCls,s=this.isReadonly,u=this.isDisabled,d=this.clearable,b=this.type,p=this.currentValue,h=this.moneyKeyboardAlign,y=this.moneyKeyboardWrapProps,v=this.moneyKeyboardHeader,m=this.name,k=this.maxLength,j=this.$slots.extra||this.extra,C={confirmLabel:"确定",backspaceLabel:"退格",cancelKeyboardLabel:"收起键盘"},x=C.confirmLabel,K=C.backspaceLabel,L=C.cancelKeyboardLabel,I=this.focus,$=this.state.placeholder,w=f()("".concat(l,"-item"),"".concat(i,"-item"),"".concat(l,"-item-middle"),(e={},Object(c["a"])(e,"".concat(i,"-disabled"),u),Object(c["a"])(e,"".concat(i,"-focus"),I),Object(c["a"])(e,"".concat(i,"-android"),this.android),e)),B="".concat(i,"-control"),P="text";"bankCard"===b||"phone"===b?P="tel":"password"===b?P="password":"digit"===b?P="number":"text"!==b&&"number"!==b&&(P=b),"number"===b&&(t={pattern:"[0-9]*"});var A="";return"digit"===b&&(A="h5numInput"),a(g["a"].Item,{attrs:{title:this.renderLabel(),required:this.required,error:this.error,errorMessage:this.errorMessage,errorDisplayType:this.errorDisplayType},class:w},[a("div",{class:B,slot:"control"},["money"===b?a(F,r()([{},{attrs:{value:V(p),type:b,maxLength:k,placeholder:$,disabled:u,editable:!s,prefixCls:i,confirmLabel:x,backspaceLabel:K,cancelKeyboardLabel:L,moneyKeyboardAlign:h,moneyKeyboardWrapProps:y,moneyKeyboardHeader:v}},{on:{change:this.onInputChange,focus:this.onInputFocus,blur:this.onInputBlur,confirm:function(e){n.$emit("confirm",e)}},ref:"input"}])):a(D,r()([{},{props:o()({},t,{value:V(p),defaultValue:void 0,textAlign:this.textAlign,type:P,maxLength:k,name:m,placeholder:$,readonly:s,disabled:u})},{class:A,ref:"input"},{on:{change:this.onInputChange,focus:this.onInputFocus,blur:this.onInputBlur}}]))]),d&&!s&&!u&&p&&"".concat(p).length>0?a(O["a"],{slot:"suffix",attrs:{activeClassName:"".concat(i,"-clear-active")}},[a("div",{class:"".concat(i,"-clear"),on:{click:this.clearInput}})]):null,""!==j?a("div",{class:"".concat(i,"-extra"),slot:"extra",on:{click:function(e){n.$emit("extra-click",e)}}},[j]):null])}},{key:"inputRef",get:function(){return this.$refs.input}}]),t}(k["a"]);p["b"]([Object(m["d"])({type:[String,Object]})],H.prototype,"title",void 0),p["b"]([Object(m["d"])({type:String,default:"am-input"})],H.prototype,"prefixCls",void 0),p["b"]([Object(m["d"])({type:String,default:"am-list"})],H.prototype,"prefixListCls",void 0),p["b"]([Object(m["d"])({type:String,default:"right"})],H.prototype,"moneyKeyboardAlign",void 0),p["b"]([Object(m["d"])({type:Function,default:function(){return{}}})],H.prototype,"moneyKeyboardWrapProps",void 0),p["b"]([Object(m["d"])({default:null})],H.prototype,"moneyKeyboardHeader",void 0),p["b"]([Object(m["d"])({type:String,default:"text"})],H.prototype,"type",void 0),p["b"]([Object(m["d"])({type:String})],H.prototype,"name",void 0),p["b"]([Object(m["d"])({type:String,default:""})],H.prototype,"placeholder",void 0),p["b"]([Object(m["d"])({type:Boolean,default:!1})],H.prototype,"clearable",void 0),p["b"]([Object(m["d"])({type:Number})],H.prototype,"maxLength",void 0),p["b"]([Object(m["d"])({default:""})],H.prototype,"extra",void 0),p["b"]([Object(m["d"])({default:5})],H.prototype,"labelNumber",void 0),p["b"]([Object(m["d"])({type:String})],H.prototype,"textAlign",void 0),p["b"]([Object(m["d"])()],H.prototype,"locale",void 0),p["b"]([Object(m["d"])({type:Boolean,default:!1})],H.prototype,"android",void 0),p["b"]([Object(m["d"])({type:Boolean,default:!1})],H.prototype,"required",void 0),p["b"]([Object(m["g"])("placeholder")],H.prototype,"placeholderChanged",null),H=p["b"]([v()({name:"InputItem"})],H);var W=H;n("658b"),n("8cd7");W.install=function(e){e.component("MInput",W)};t["a"]=W},d408:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=!("undefined"===typeof window||!window.document||!window.document.createElement),o=a&&/iphone|ipad|ipod/i.test(window.navigator.userAgent)}}]);
//# sourceMappingURL=chunk-2160b34f.96439485.js.map